<%- include('partials/header.ejs') %>

<div class="container mt-5">
  <div class="row">
    <div class="col-md-8 offset-md-2">
      <h2 class="text-center mb-4">Edit Book</h2>
      <form action="/update/<%= book.id %>?_method=PATCH" method="post">
        <div class="mb-3">
          <label for="isbn" class="form-label">ISBN</label>
          <input type="text" class="form-control" id="isbn" name="isbn" value="<%= book.isbn %>" required>
        </div>
        <div class="mb-3">
          <label for="title" class="form-label">Title</label>
          <input type="text" class="form-control" id="title" name="title" value="<%= book.title %>" required>
        </div>
        <div class="mb-3">
          <label for="author" class="form-label">Author</label>
          <input type="text" class="form-control" id="author" name="author" value="<%= book.author %>" required>
        </div>
        <div class="mb-3">
          <label for="review" class="form-label">Review</label>
          <textarea class="form-control" id="review" name="review" rows="3" required><%= book.review %></textarea>
        </div>
        <div class="mb-3">
          <label for="rating" class="form-label">Rating</label>
          <div class="star-rating d-flex gap-2">
            <% for (let i = 5; i >= 1; i--) { %>
              <input type="radio" id="<%= i %>-stars" name="rating" value="<%= i %>" 
                <% if (book.rating === i) { %>checked<% } %> required>
              <label for="<%= i %>-stars" class="star">&#9733;</label>
            <% } %>
          </div>
        </div>
        <div class="d-flex justify-content-between">
          <button type="submit" class="btn btn-dark">Update</button>
          <a href="/" class="btn btn-outline-secondary">Cancel</a>
        </div>
      </form>
    </div>
  </div>
</div>

<%- include('partials/footer.ejs') %>
